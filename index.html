<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitation Price Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 10px 20px; background-color: #f5f5f5; border-bottom: 1px solid #e0e0e0; margin-bottom: 20px; }
        .calculator-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
        @media (max-width: 900px) { .calculator-wrapper { grid-template-columns: 1fr; } }
        .options-panel, .result-panel { background-color: white; border: 1px solid #e0e0e0; padding: 20px; }
        .result-panel { display: flex; flex-direction: column; }
        .section-title { font-size: 1.1rem; color: #333; margin-bottom: 15px; padding-bottom: 6px; border-bottom: 1px solid #e0e0e0; font-weight: 500; }
        .option-group { margin-bottom: 20px; }
        .option-label { display: block; font-weight: 500; margin-bottom: 8px; color: #333; font-size: 0.95rem; }
        .option-grid, .event-option-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
        .event-option-grid { grid-template-columns: repeat(5, 1fr); }
        @media (max-width: 768px) { .event-option-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 480px) { .event-option-grid { grid-template-columns: 1fr 1fr; } }
        .option-card { border: 1px solid #ccc; border-radius: 4px; padding: 10px; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; text-align: center; background-color: #fff; }
        .option-card:hover { border-color: #666; background-color: #f9f9f9; }
        .option-card.selected { border-color: #333; background-color: #f0f0f0; font-weight: 500; }
        .option-name { color: #333; font-size: 0.85rem; }
        .slider-container { padding: 0 10px; }
        .slider-value { text-align: center; font-weight: 500; margin-top: 6px; color: #333; font-size: 0.95rem; }
        input[type="range"] { width: 100%; height: 6px; border-radius: 3px; background: #e0e0e0; outline: none; -webkit-appearance: none; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: #333; cursor: pointer; border: 1px solid #ccc; }
        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        .input-label { display: block; font-weight: 500; margin-bottom: 6px; color: #333; font-size: 0.95rem; }
        .text-input, .date-input, .select-input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 0.95rem; background-color: #fff; }
        .text-input:focus, .date-input:focus, .select-input:focus { outline: none; border-color: #666; }
        .layout-rush-row { display: grid; grid-template-columns: auto 1fr; gap: 10px; align-items: center; margin-bottom: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 4px; }
        .layout-rush-checkbox { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }
        .addon-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .addon-item { padding: 10px; border: 1px solid #e0e0e0; border-radius: 4px; background-color: #f9f9f9; }
        .addon-header { display: flex; align-items: flex-start; margin-bottom: 8px; }
        .addon-checkbox { margin-right: 10px; margin-top: 2px; }
        .addon-name { font-weight: 500; color: #333; font-size: 0.9rem; }
        .addon-option { display: flex; align-items: center; margin-top: 5px; font-size: 0.85rem; color: #666; }
        .addon-input { width: 70px; padding: 4px 6px; border: 1px solid #ccc; border-radius: 3px; margin-left: 8px; font-size: 0.85rem; text-align: center; }
        .addon-input:disabled { background-color: #f0f0f0; color: #999; cursor: not-allowed; }
        .button-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 15px; }
        .action-button { background-color: #f0f0f0; color: #333; border: 1px solid #ccc; padding: 8px; font-size: 0.85rem; border-radius: 4px; cursor: pointer; transition: background-color 0.2s; font-weight: 500; height: 40px; display: flex; align-items: center; justify-content: center; gap: 5px; }
        .action-button:hover { background-color: #e5e5e5; border-color: #999; }
        .copy-button { background-color: #333; color: white; border: 1px solid #333; width: 100%; margin-top: 15px; padding: 10px; height: 44px; font-size: 0.9rem; }
        .copy-button:hover { background-color: #444; }
        .summary-container { flex-grow: 1; }
        .event-type-title { font-size: 1.2rem; font-weight: 500; color: #333; margin-bottom: 8px; text-align: center; }
        .event-date-line { color: #666; font-size: 0.95rem; text-align: center; margin-bottom: 20px; }
        .price-per-set { font-size: 2.2rem; font-weight: 300; color: #333; margin-bottom: 20px; text-align: center; line-height: 1; }
        .summary-details { margin-bottom: 20px; padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 4px; }
        .summary-line { margin-bottom: 8px; font-size: 0.95rem; line-height: 1.4; }
        .final-total { margin-top: 20px; padding-top: 15px; border-top: 2px solid #333; font-weight: 600; font-size: 1.3rem; text-align: center; color: #333; }
        footer { text-align: center; margin-top: 25px; padding-top: 12px; border-top: 1px solid #e0e0e0; color: #666; font-size: 0.8rem; }
        .notification { position: fixed; top: 20px; right: 20px; background-color: #333; color: white; padding: 10px 16px; border-radius: 4px; font-size: 0.85rem; opacity: 0; transform: translateY(-10px); transition: opacity 0.3s, transform 0.3s; z-index: 1000; }
        .notification.show { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>
    <div class="container">
        <header><h1>Invitation Price Calculator</h1></header>
        <div class="calculator-wrapper">
            <div class="options-panel">
                <h2 class="section-title">Customization Options</h2>
                <div class="option-group">
                    <label class="option-label">1. Event Type</label>
                    <div class="event-option-grid" id="event-type-options">
                        <div class="option-card selected" data-value="wedding"><div class="option-name">Wedding</div></div>
                        <div class="option-card" data-value="debut"><div class="option-name">Debut</div></div>
                        <div class="option-card" data-value="birthday"><div class="option-name">Birthday</div></div>
                        <div class="option-card" data-value="baptism"><div class="option-name">Baptism</div></div>
                        <div class="option-card" data-value="special-event"><div class="option-name">Special event</div></div>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">2. Size</label>
                    <div class="option-grid" id="size-options">
                        <div class="option-card selected" data-value="4r"><div class="option-name">4R</div></div>
                        <div class="option-card" data-value="5r"><div class="option-name">5R</div></div>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">3. Envelope Type</label>
                    <div class="option-grid" id="envelope-options">
                        <div class="option-card" data-value="no-envelope"><div class="option-name">No envelope</div></div>
                        <div class="option-card selected" data-value="plain-white"><div class="option-name">Plain white</div></div>
                        <div class="option-card" data-value="colored"><div class="option-name">Colored</div></div>
                        <div class="option-card" data-value="transparent"><div class="option-name">Transparent</div></div>
                        <div class="option-card" data-value="premium-colored"><div class="option-name">Premium colored</div></div>
                        <div class="option-card" data-value="vellum-cover"><div class="option-name">Vellum cover</div></div>
                        <div class="option-card" data-value="gatefold"><div class="option-name">Gatefold</div></div>
                        <div class="option-card" data-value="pocket-cover"><div class="option-name">Pocket Cover</div></div>
                        <div class="option-card" data-value="pouch-cover"><div class="option-name">Pouch Cover</div></div>
                        <div class="option-card" data-value="trifold"><div class="option-name">Trifold</div></div>
                        <div class="option-card" data-value="vellum-cover-print"><div class="option-name">Vellum cover with print</div></div>
                        <div class="option-card" data-value="portrait-colored"><div class="option-name">Portrait colored</div></div>
                        <div class="option-card" data-value="premium-portrait-colored"><div class="option-name">Premium portrait colored</div></div>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">4. Number of Inserts</label>
                    <div class="slider-container">
                        <input type="range" id="inserts-slider" min="0" max="10" value="0" step="1">
                        <div class="slider-value" id="inserts-value">0 inserts</div>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">5. Paper Type</label>
                    <div class="option-grid" id="paper-options">
                        <div class="option-card selected" data-value="matte"><div class="option-name">Matte</div></div>
                        <div class="option-card" data-value="glossy"><div class="option-name">Glossy</div></div>
                        <div class="option-card" data-value="premium-matte"><div class="option-name">Premium matte</div></div>
                        <div class="option-card" data-value="matte-textured"><div class="option-name">Matte textured</div></div>
                        <div class="option-card" data-value="glossy-textured"><div class="option-name">Glossy textured</div></div>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">6. Envelope Seal</label>
                    <div class="option-grid" id="seal-options">
                        <div class="option-card selected" data-value="no-seal"><div class="option-name">No seal</div></div>
                        <div class="option-card" data-value="sticker-seal"><div class="option-name">Sticker seal</div></div>
                        <div class="option-card" data-value="wax-seal"><div class="option-name">Wax seal</div></div>
                        <div class="option-card" data-value="belt"><div class="option-name">Belt</div></div>
                        <div class="option-card" data-value="wax-seal-string"><div class="option-name">Wax seal with string</div></div>
                        <div class="option-card" data-value="belt-print"><div class="option-name">Belt with print</div></div>
                        <div class="option-card" data-value="frosted-belt"><div class="option-name">Frosted belt</div></div>
                        <div class="option-card" data-value="ribbon"><div class="option-name">Ribbon</div></div>
                        <div class="option-card" data-value="wax-seal-flower"><div class="option-name">Wax seal with flower</div></div>
                        <div class="option-card" data-value="frosted-belt-print"><div class="option-name">Frosted belt with print</div></div>
                        <div class="option-card" data-value="frayed-ribbon"><div class="option-name">Frayed ribbon</div></div>
                        <div class="option-card" data-value="wax-seal-string-flower"><div class="option-name">Wax seal with string and flower</div></div>
                    </div>
                </div>
                
                <!-- Add-ons Section -->
                <div class="option-group">
                    <label class="option-label">7. Add-ons</label>
                    <div class="addon-grid" id="addons-grid">
                        <!-- Add-ons will be added here by JavaScript -->
                    </div>
                </div>
                
                <div class="option-group">
                    <label class="option-label">Layout Fee</label>
                    <div class="layout-rush-row">
                        <div class="layout-rush-checkbox"><input type="checkbox" id="layout-checkbox"><label for="layout-checkbox">Layout Fee</label></div>
                        <select class="select-input" id="layout-type">
                            <option value="no-layout">No layout</option>
                            <option value="own-layout">Own layout</option>
                        </select>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">Rush Fee</label>
                    <div class="layout-rush-row">
                        <div class="layout-rush-checkbox"><input type="checkbox" id="rush-checkbox"><label for="rush-checkbox">Rush Order</label></div>
                        <select class="select-input" id="rush-type">
                            <option value="no-layout">No layout</option>
                            <option value="own-layout">Own layout</option>
                        </select>
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group"><label class="input-label">Number of Sets</label><input type="number" class="text-input" id="sets-input" min="1" max="1000" value="20"></div>
                    <div class="input-group"><label class="input-label">Event Date</label><input type="date" class="date-input" id="event-date-input"></div>
                </div>
                <div class="button-row">
                    <button class="action-button" id="reset-button"><i class="fas fa-redo-alt"></i> Reset All</button>
                    <button class="action-button" id="print-button"><i class="fas fa-print"></i> Print</button>
                </div>
            </div>
            <div class="result-panel">
                <div class="summary-container">
                    <h2 class="section-title">Quotation Summary</h2>
                    <div class="event-type-title" id="event-type-title">Wedding invitation</div>
                    <div class="event-date-line" id="event-date-display">Event Date: Not specified</div>
                    <div class="price-per-set" id="price-per-set">₱25 each</div>
                    <div class="summary-details">
                        <div class="summary-line" id="summary-size-line">4R size</div>
                        <div class="summary-line" id="summary-envelope-line">Plain white Envelope</div>
                        <div class="summary-line" id="summary-inserts-line">0 inserts</div>
                        <div class="summary-line" id="summary-paper-line">Matte paper</div>
                        <div class="summary-line" id="summary-seal-line">No seal</div>
                        <div id="addons-summary"></div>
                        <div class="summary-line" id="layout-summary"></div>
                        <div class="summary-line" id="rush-summary"></div>
                    </div>
                    <div class="final-total" id="final-total">20 sets x ₱25 each = ₱500</div>
                    <button class="copy-button" id="copy-button"><i class="fas fa-copy"></i> Copy Quotation Summary</button>
                </div>
            </div>
        </div>
        <footer>
            <p>Invitation Price Calculator &copy; <span id="current-year">2023</span></p>
            <p>Note: Additional charges may apply for rush orders or custom artwork.</p>
        </footer>
    </div>
    <div class="notification" id="notification">Quotation copied to clipboard!</div>
    <script>
        const BASE_PRICE = 25;
        const INSERT_PRICE = 5;
        let currentSelections = {
            eventType: { value: "wedding", name: "Wedding" },
            size: { value: "4r", name: "4R" },
            envelope: { value: "plain-white", name: "Plain white" },
            inserts: { value: 0 },
            paper: { value: "matte", name: "Matte" },
            seal: { value: "no-seal", name: "No seal" },
            layout: { required: false, type: "no-layout" },
            rush: { required: false, type: "no-layout" },
            addons: {}
        };
        let numberOfSets = 20;
        let eventDate = "";
        
        const addonsData = [
            { id: 'map-layout', name: 'Map layout', unit: 'flat' },
            { id: 'transparent-insert', name: 'Transparent insert', unit: 'page' },
            { id: 'acrylic-insert', name: 'Acrylic insert', unit: 'page' },
            { id: 'deckled-edge-cut', name: 'Deckled edge cut', unit: 'page' },
            { id: 'custom-cut', name: 'Custom cut', unit: 'page' },
            { id: 'photo-print', name: 'Photo print', unit: 'page' },
            { id: 'solid-color-print', name: 'Solid color print', unit: 'page' },
            { id: 'vellum-jacket', name: 'Vellum jacket', unit: 'flat' },
            { id: 'vellum-jacket-print', name: 'Vellum jacket with print', unit: 'flat' },
            { id: 'frosted-insert', name: 'Frosted insert', unit: 'page' },
            { id: 'different-sized-insert', name: 'Different sized insert', unit: 'flat' },
            { id: 'back-to-back-print', name: 'Back to back print', unit: 'page' },
            { id: 'ribbon-addon', name: 'Ribbon', unit: 'flat' },
            { id: 'sticker-seal-addon', name: 'Sticker seal', unit: 'piece' },
            { id: 'eyelet', name: 'Eyelet', unit: 'piece' },
            { id: 'glossy-phototop', name: 'Glossy phototop', unit: 'page' },
            { id: 'matte-phototop', name: 'Matte phototop', unit: 'page' },
            { id: 'leather-phototop', name: 'Leather phototop', unit: 'page' },
            { id: 'glitter-phototop', name: 'Glitter phototop', unit: 'page' },
            { id: 'metal-pin', name: 'Metal pin', unit: 'piece' },
            { id: 'sticker-names', name: 'Sticker names', unit: 'piece' },
            { id: 'calendar-foil', name: 'Calendar foil', unit: 'flat' },
            { id: 'folded-insert', name: 'Folded insert', unit: 'flat' },
            { id: 'trifold-insert', name: 'Trifold insert', unit: 'flat' }
        ];
        
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('current-year').textContent = new Date().getFullYear();
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('event-date-input').value = tomorrow.toISOString().split('T')[0];
            eventDate = document.getElementById('event-date-input').value;
            updateEventDateDisplay();
            
            setupOptionCards('event-type-options', 'eventType', true);
            setupOptionCards('size-options', 'size');
            setupOptionCards('envelope-options', 'envelope');
            setupOptionCards('paper-options', 'paper');
            setupOptionCards('seal-options', 'seal');
            
            initializeAddons();
            
            document.getElementById('inserts-slider').addEventListener('input', function() {
                const insertCount = parseInt(this.value);
                document.getElementById('inserts-value').textContent = `${insertCount} insert${insertCount !== 1 ? 's' : ''}`;
                currentSelections.inserts.value = insertCount;
                updateSummary();
            });
            
            document.getElementById('sets-input').addEventListener('input', function() {
                numberOfSets = parseInt(this.value) || 1;
                updateSummary();
            });
            
            document.getElementById('event-date-input').addEventListener('change', function() {
                eventDate = this.value;
                updateEventDateDisplay();
            });
            
            document.getElementById('layout-checkbox').addEventListener('change', function() {
                currentSelections.layout.required = this.checked;
                updateSummary();
            });
            
            document.getElementById('layout-type').addEventListener('change', function() {
                currentSelections.layout.type = this.value;
                updateSummary();
            });
            
            document.getElementById('rush-checkbox').addEventListener('change', function() {
                currentSelections.rush.required = this.checked;
                updateSummary();
            });
            
            document.getElementById('rush-type').addEventListener('change', function() {
                currentSelections.rush.type = this.value;
                updateSummary();
            });
            
            document.getElementById('reset-button').addEventListener('click', resetSelections);
            document.getElementById('print-button').addEventListener('click', printQuote);
            document.getElementById('copy-button').addEventListener('click', copyQuotation);
            
            updateSummary();
        });
        
        function initializeAddons() {
            const addonsGrid = document.getElementById('addons-grid');
            addonsGrid.innerHTML = '';
            
            addonsData.forEach(addon => {
                const addonItem = document.createElement('div');
                addonItem.className = 'addon-item';
                addonItem.innerHTML = `
                    <div class="addon-header">
                        <input type="checkbox" class="addon-checkbox" id="addon-${addon.id}" data-id="${addon.id}" data-unit="${addon.unit}">
                        <label class="addon-name" for="addon-${addon.id}">${addon.name}</label>
                    </div>
                    ${addon.unit !== 'flat' ? 
                        `<div class="addon-option">
                            <label>${addon.unit === 'page' ? 'Pages' : 'Pieces'}:</label>
                            <input type="number" class="addon-input" id="qty-${addon.id}" min="1" max="100" value="1" disabled>
                        </div>` 
                        : ''}
                `;
                addonsGrid.appendChild(addonItem);
                
                const checkbox = addonItem.querySelector('.addon-checkbox');
                const quantityInput = addonItem.querySelector('.addon-input');
                
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        if (quantityInput) quantityInput.disabled = false;
                        currentSelections.addons[addon.id] = {
                            name: addon.name,
                            unit: addon.unit,
                            quantity: quantityInput ? parseInt(quantityInput.value) || 1 : 1
                        };
                    } else {
                        if (quantityInput) quantityInput.disabled = true;
                        delete currentSelections.addons[addon.id];
                    }
                    updateSummary();
                });
                
                if (quantityInput) {
                    quantityInput.addEventListener('input', function() {
                        if (checkbox.checked) {
                            currentSelections.addons[addon.id].quantity = parseInt(this.value) || 1;
                            updateSummary();
                        }
                    });
                }
            });
        }
        
        function setupOptionCards(containerId, selectionType, isEventType = false) {
            const container = document.getElementById(containerId);
            const optionCards = container.querySelectorAll('.option-card');
            optionCards.forEach(card => {
                card.addEventListener('click', function() {
                    optionCards.forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    const value = this.getAttribute('data-value');
                    const name = this.querySelector('.option-name').textContent;
                    currentSelections[selectionType] = { value: value, name: name };
                    if (isEventType) updateEventTypeTitle();
                    updateSummary();
                });
            });
        }
        
        function updateEventTypeTitle() {
            const eventType = currentSelections.eventType.name;
            const title = eventType === "Special event" ? "Special event invitation" : `${eventType} invitation`;
            document.getElementById('event-type-title').textContent = title;
        }
        
        function updateEventDateDisplay() {
            if (eventDate) {
                const dateObj = new Date(eventDate);
                const formattedDate = dateObj.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
                document.getElementById('event-date-display').textContent = `Event Date: ${formattedDate}`;
            } else {
                document.getElementById('event-date-display').textContent = `Event Date: Not specified`;
            }
        }
        
        function calculateLayoutFee() {
            let layoutFee = 0;
            let layoutSummary = "";
            
            // Number of pages = number of inserts (0 inserts = 0 pages, 1 insert = 1 page, etc.)
            const numberOfPages = currentSelections.inserts.value;
            
            // Case 1: Unchecked with "No layout" and sets >= 20
            if (!currentSelections.layout.required && currentSelections.layout.type === "no-layout" && numberOfSets >= 20) {
                layoutSummary = "FREE layout";
            }
            // Case 2: Unchecked with "No layout" and sets < 20
            else if (!currentSelections.layout.required && currentSelections.layout.type === "no-layout" && numberOfSets < 20) {
                layoutFee = 200 + (Math.max(0, numberOfPages - 1) * 100);
                layoutSummary = `Layout fee: ₱${layoutFee}`;
            }
            // Case 3: Unchecked with "Own layout"
            else if (!currentSelections.layout.required && currentSelections.layout.type === "own-layout") {
                layoutSummary = "Own layout";
            }
            // Case 4: Checked with "No layout"
            else if (currentSelections.layout.required && currentSelections.layout.type === "no-layout") {
                layoutFee = 200 + (Math.max(0, numberOfPages - 1) * 100);
                layoutSummary = `Layout fee: ₱${layoutFee}`;
            }
            // Case 5: Checked with "Own layout"
            else if (currentSelections.layout.required && currentSelections.layout.type === "own-layout") {
                layoutSummary = "Own layout";
            }
            
            return { fee: layoutFee, summary: layoutSummary };
        }
        
        function calculateRushFee() {
            let rushFee = 0;
            let rushSummary = "";
            
            if (currentSelections.rush.required) {
                if (currentSelections.rush.type === "no-layout") {
                    rushFee = 100 + (10 * numberOfSets);
                    rushSummary = `Rush fee: ₱${rushFee}`;
                } else if (currentSelections.rush.type === "own-layout") {
                    rushFee = 10 * numberOfSets;
                    rushSummary = `Rush fee: ₱${rushFee}`;
                }
            }
            
            return { fee: rushFee, summary: rushSummary };
        }
        
        function updateSummary() {
            const insertsPrice = currentSelections.inserts.value * INSERT_PRICE;
            const totalPerSet = BASE_PRICE + insertsPrice;
            
            const layout = calculateLayoutFee();
            const rush = calculateRushFee();
            
            const finalTotal = (totalPerSet * numberOfSets) + layout.fee + rush.fee;
            
            document.getElementById('price-per-set').textContent = `₱${totalPerSet} each`;
            document.getElementById('summary-size-line').textContent = `${currentSelections.size.name} size`;
            document.getElementById('summary-envelope-line').textContent = `${currentSelections.envelope.name} Envelope`;
            document.getElementById('summary-inserts-line').textContent = `${currentSelections.inserts.value} insert${currentSelections.inserts.value !== 1 ? 's' : ''}`;
            document.getElementById('summary-paper-line').textContent = `${currentSelections.paper.name} paper`;
            document.getElementById('summary-seal-line').textContent = currentSelections.seal.name;
            
            let addonsSummaryHTML = '';
            Object.keys(currentSelections.addons).forEach(addonId => {
                const addon = currentSelections.addons[addonId];
                if (addon.unit === 'flat') {
                    addonsSummaryHTML += `<div class="summary-line">${addon.name}</div>`;
                } else {
                    addonsSummaryHTML += `<div class="summary-line">${addon.name} (${addon.quantity} ${addon.unit}${addon.quantity !== 1 ? 's' : ''})</div>`;
                }
            });
            document.getElementById('addons-summary').innerHTML = addonsSummaryHTML;
            
            document.getElementById('layout-summary').textContent = layout.summary;
            document.getElementById('rush-summary').textContent = rush.summary;
            
            document.getElementById('final-total').innerHTML = `${numberOfSets} sets x ₱${totalPerSet} each = ₱${finalTotal}`;
        }
        
        function resetSelections() {
            document.querySelectorAll('.option-card').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('.option-card[data-value="wedding"], .option-card[data-value="4r"], .option-card[data-value="plain-white"], .option-card[data-value="matte"], .option-card[data-value="no-seal"]').forEach(card => card.classList.add('selected'));
            
            currentSelections = {
                eventType: { value: "wedding", name: "Wedding" },
                size: { value: "4r", name: "4R" },
                envelope: { value: "plain-white", name: "Plain white" },
                inserts: { value: 0 },
                paper: { value: "matte", name: "Matte" },
                seal: { value: "no-seal", name: "No seal" },
                layout: { required: false, type: "no-layout" },
                rush: { required: false, type: "no-layout" },
                addons: {}
            };
            
            document.getElementById('inserts-slider').value = 0;
            document.getElementById('inserts-value').textContent = '0 inserts';
            document.querySelectorAll('.addon-checkbox').forEach(cb => cb.checked = false);
            document.querySelectorAll('.addon-input').forEach(input => {
                input.value = 1;
                input.disabled = true;
            });
            document.getElementById('layout-checkbox').checked = false;
            document.getElementById('layout-type').value = "no-layout";
            document.getElementById('rush-checkbox').checked = false;
            document.getElementById('rush-type').value = "no-layout";
            document.getElementById('sets-input').value = 20;
            numberOfSets = 20;
            
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('event-date-input').value = tomorrow.toISOString().split('T')[0];
            eventDate = document.getElementById('event-date-input').value;
            
            updateEventTypeTitle();
            updateEventDateDisplay();
            updateSummary();
        }
        
        function copyQuotation() {
            const totalPerSet = BASE_PRICE + (currentSelections.inserts.value * INSERT_PRICE);
            const eventTitle = currentSelections.eventType.name === "Special event" ? "Special event invitation" : `${currentSelections.eventType.name} invitation`;
            
            let formattedEventDate = "Not specified";
            if (eventDate) {
                const dateObj = new Date(eventDate);
                formattedEventDate = dateObj.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            }
            
            const layout = calculateLayoutFee();
            const rush = calculateRushFee();
            const finalTotal = (totalPerSet * numberOfSets) + layout.fee + rush.fee;
            
            let quotationText = `${eventTitle}
Event Date: ${formattedEventDate}

₱${totalPerSet} each

${currentSelections.size.name} size
${currentSelections.envelope.name} Envelope
${currentSelections.inserts.value} insert${currentSelections.inserts.value !== 1 ? 's' : ''}
${currentSelections.paper.name} paper
${currentSelections.seal.name}`;

            Object.keys(currentSelections.addons).forEach(addonId => {
                const addon = currentSelections.addons[addonId];
                if (addon.unit === 'flat') {
                    quotationText += `\n${addon.name}`;
                } else {
                    quotationText += `\n${addon.name} (${addon.quantity} ${addon.unit}${addon.quantity !== 1 ? 's' : ''})`;
                }
            });

            if (layout.summary) quotationText += `\n${layout.summary}`;
            if (rush.summary) quotationText += `\n${rush.summary}`;

            quotationText += `\n${numberOfSets} sets x ₱${totalPerSet} each = ₱${finalTotal}`;
            
            navigator.clipboard.writeText(quotationText).then(() => {
                const notification = document.getElementById('notification');
                notification.classList.add('show');
                setTimeout(() => notification.classList.remove('show'), 3000);
            }).catch(() => alert('Failed to copy quotation to clipboard. Please try again.'));
        }
        
        function printQuote() {
            window.print();
        }
    </script>
</body>
</html>
